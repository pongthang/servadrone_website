<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FalconLink - India's First High-Performance Digital Drone Video Link</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #ff6b35;
            --secondary: #f7931e;
            --accent: #00ff88;
            --dark: #0a0a0a;
            --dark-light: #1a1a1a;
            --text: #e8edf4;
            --text-dim: #8b95a8;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', sans-serif;
            background: var(--dark);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            z-index: 0;
            pointer-events: none;
        }

        .glow {
            position: fixed;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.15), transparent 70%);
            pointer-events: none;
            z-index: 1;
        }

        .glow-1 {
            top: -200px;
            right: -200px;
            animation: float 20s ease-in-out infinite;
        }

        .glow-2 {
            bottom: -300px;
            left: -300px;
            animation: float 25s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(50px, 50px); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 2;
        }

        nav {
            padding: 30px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -1px;
        }

        .stats {
            padding: 8px 20px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 50px;
            font-size: 14px;
            color: var(--primary);
            font-weight: 500;
        }

        .hero {
            text-align: center;
            padding: 80px 0 60px;
        }

        .badge {
            display: inline-block;
            padding: 10px 24px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 30px;
            animation: fadeInUp 0.8s ease;
        }

        h1 {
            font-size: clamp(40px, 6vw, 72px);
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 24px;
            background: linear-gradient(135deg, #ffffff, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 0.8s ease 0.2s backwards;
        }

        .tagline {
            font-size: clamp(18px, 2.5vw, 24px);
            color: var(--text-dim);
            margin-bottom: 50px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 0.8s ease 0.4s backwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .email-form {
            display: flex;
            gap: 12px;
            max-width: 500px;
            margin: 0 auto 80px;
            animation: fadeInUp 0.8s ease 0.6s backwards;
        }

        input[type="email"] {
            flex: 1;
            padding: 18px 24px;
            background: var(--dark-light);
            border: 2px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            color: var(--text);
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }

        input[type="email"]:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 212, 255, 0.1);
        }

        .cta-btn {
            padding: 18px 36px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
        }

        .cta-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .video-section {
            margin: 80px auto 120px;
            animation: fadeInUp 0.8s ease 0.8s backwards;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 212, 255, 0.3);
            border: 2px solid rgba(0, 212, 255, 0.2);
            background: var(--dark-light);
        }

        .video-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 24px;
            z-index: -1;
            opacity: 0.5;
            filter: blur(20px);
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 16px 24px;
            border-radius: 12px;
            font-weight: 500;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.4s ease;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: rgba(0, 255, 170, 0.15);
            border: 1px solid var(--accent);
            color: var(--accent);
        }

        .notification.error {
            background: rgba(255, 68, 68, 0.15);
            border: 1px solid #ff4444;
            color: #ff6b6b;
        }

        section {
            margin-bottom: 120px;
        }

        .section-title {
            font-size: clamp(28px, 4vw, 42px);
            font-weight: 700;
            margin-bottom: 24px;
            line-height: 1.2;
        }

        .section-text {
            font-size: 18px;
            color: var(--text-dim);
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 24px;
            margin-top: 40px;
        }

        .spec-card {
            padding: 32px;
            background: var(--dark-light);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .spec-card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.15);
        }

        .spec-icon {
            font-size: 36px;
            margin-bottom: 16px;
        }

        .spec-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .spec-value {
            font-size: 16px;
            color: var(--text-dim);
        }

        .features-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .feature-item {
            display: flex;
            gap: 16px;
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .feature-content h3 {
            font-size: 20px;
            margin-bottom: 8px;
            color: var(--text);
        }

        .feature-content p {
            color: var(--text-dim);
            font-size: 15px;
        }

        footer {
            padding: 60px 0;
            text-align: center;
            border-top: 1px solid rgba(0, 212, 255, 0.1);
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
        }

        .footer-text {
            color: var(--text-dim);
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .email-form {
                flex-direction: column;
            }

            .cta-btn {
                width: 100%;
            }

            nav {
                flex-direction: column;
                gap: 20px;
            }

            .notification {
                right: 20px;
                left: 20px;
                transform: translateY(-100px);
            }

            .notification.show {
                transform: translateY(0);
            }

            section {
                margin-bottom: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    <div class="glow glow-1"></div>
    <div class="glow glow-2"></div>

    <div class="notification" id="notification"></div>

    <div class="container">
        <nav>
            <div class="logo">FalconLink</div>
            <div class="stats" id="stats">Loading...</div>
        </nav>

        <div class="hero">
            <div class="badge">üáÆüá≥ Made in India</div>
            <h1>India's First High-Performance<br>Digital Drone Video Link</h1>
            <p class="tagline">Ultra-low latency. Extended range. Professional-grade encrypted transmission. Built entirely in India.</p>
            
            <form class="email-form" id="emailForm">
                <input 
                    type="email" 
                    id="emailInput" 
                    placeholder="Enter your email" 
                    required
                    autocomplete="email"
                >
                <button type="submit" class="cta-btn">Join Waitlist</button>
            </form>
        </div>

        <div class="video-section">
            <div class="video-container">
                <div class="video-wrapper">
                    <iframe 
                        id="youtubeVideo"
                        src="https://www.youtube.com/embed/nDn8jw9-HRA?rel=0&modestbranding=1" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                    </iframe>
                </div>
            </div>
        </div>

        <section>
            <h2 class="section-title">Building India's drone electronics future</h2>
            <p class="section-text">
                India's drone industry has long relied on expensive imported video links from foreign manufacturers. Despite the rapid growth of our domestic drone sector, critical electronics remain sourced from abroad, creating cost barriers and limiting customization for Indian operators.
            </p>
            <p class="section-text">
                ServaDrone is changing this. We're developing India's first world-class drone video link platform with complete in-house RF and encoder technology. Our mission is to establish India as a global leader in drone electronics, delivering professional-grade performance at prices that make sense for the Indian market.
            </p>
        </section>

        <section>
            <h2 class="section-title">Performance that competes globally</h2>
            <div class="specs-grid">
                <div class="spec-card">
                    <div class="spec-icon">‚ö°</div>
                    <div class="spec-title">Sub-60ms Latency</div>
                    <div class="spec-value">Real-time responsiveness for precision FPV flight and critical operations</div>
                </div>
                <div class="spec-card">
                    <div class="spec-icon">üì°</div>
                    <div class="spec-title">30km Range</div>
                    <div class="spec-value">Extended operational capability for cinema, surveillance, and beyond</div>
                </div>
                <div class="spec-card">
                    <div class="spec-icon">üé•</div>
                    <div class="spec-title">Full HD Digital</div>
                    <div class="spec-value">Crystal-clear 1080p video with robust encryption for secure transmission</div>
                </div>
                <div class="spec-card">
                    <div class="spec-icon">üéØ</div>
                    <div class="spec-title">Multi-Purpose</div>
                    <div class="spec-value">Designed for FPV racing, cinema production, and surveillance applications</div>
                </div>
            </div>
        </section>

        <section>
            <h2 class="section-title">The ServaDrone advantage</h2>
            <div class="features-list">
                <div class="feature-item">
                    <div class="feature-icon">üîß</div>
                    <div class="feature-content">
                        <h3>Full In-House Stack</h3>
                        <p>Complete RF and encoder development in-house gives us unmatched control over performance optimization and rapid iteration cycles.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üöÄ</div>
                    <div class="feature-content">
                        <h3>Lower Latency Architecture</h3>
                        <p>Purpose-built transmission protocols achieve sub-60ms glass-to-glass latency, critical for real-time pilot response.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üí∞</div>
                    <div class="feature-content">
                        <h3>Made in India Pricing</h3>
                        <p>Local design and manufacturing eliminate import costs, offering world-class performance at accessible price points.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üéõÔ∏è</div>
                    <div class="feature-content">
                        <h3>OEM Customization</h3>
                        <p>Flexible platform enables custom frequency bands, protocols, and integrations for enterprise and government applications.</p>
                    </div>
                </div>
            </div>
        </section>

        <section style="text-align: center; padding: 60px 0; background: var(--dark-light); border-radius: 24px; margin-top: 80px;">
            <h2 class="section-title">Be among the first to fly FalconLink</h2>
            <p class="section-text" style="max-width: 600px; margin: 0 auto 40px;">
                Join our waitlist to get early access, exclusive updates, and special launch pricing when FalconLink becomes available.
            </p>
            <form class="email-form" id="emailFormBottom" style="margin-bottom: 0;">
                <input 
                    type="email" 
                    placeholder="Enter your email" 
                    required
                    autocomplete="email"
                >
                <button type="submit" class="cta-btn">Join Waitlist</button>
            </form>
        </section>
    </div>

    <footer>
        <div class="container">
            <div class="footer-logo">FalconLink by ServaDrone</div>
            <p class="footer-text">Building India's future in drone electronics, one innovation at a time.</p>
            
            <div style="margin-top: 30px; display: flex; gap: 30px; justify-content: center; align-items: center; flex-wrap: wrap;">
                <a href="mailto:servadrone@gmail.com" style="color: var(--text-dim); text-decoration: none; transition: color 0.3s ease;">
                    üìß servadrone@gmail.com
                </a>
                <a href="https://www.youtube.com/@servadrone" target="_blank" style="color: var(--text-dim); text-decoration: none; transition: color 0.3s ease;">
                    üì∫ Visit us on YouTube
                </a>
            </div>
        </div>
    </footer>

    <script>
        console.log('Script starting...');
        let isSubmitting = false;

        // Load stats function
        async function loadStats() {
            try {
                console.log('Loading stats...');
                const response = await fetch('/api/stats');
                const data = await response.json();
                console.log('Stats loaded:', data);
                document.getElementById('stats').textContent = `${data.totalSignups} on waitlist`;
            } catch (error) {
                console.error('Stats error:', error);
                document.getElementById('stats').textContent = 'Join the waitlist';
            }
        }

        // Show notification function
        function showNotification(message, type) {
            console.log('Showing notification:', type, message);
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Handle form submit
        async function handleSubmit(e) {
            e.preventDefault();
            console.log('Form submitted!');
            
            if (isSubmitting) {
                console.log('Already submitting, ignoring');
                return;
            }
            
            const form = e.target;
            const emailInput = form.querySelector('input[type="email"]');
            const button = form.querySelector('button');
            const email = emailInput.value.trim();

            console.log('Email:', email);

            if (!email) {
                showNotification('Please enter your email address', 'error');
                return;
            }

            isSubmitting = true;
            button.disabled = true;
            button.textContent = 'Joining...';

            try {
                console.log('Sending request to /api/subscribe...');
                const response = await fetch('/api/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email }),
                });

                console.log('Response status:', response.status);
                const data = await response.json();
                console.log('Response data:', data);

                if (data.success) {
                    showNotification(data.message, 'success');
                    emailInput.value = '';
                    loadStats();
                } else {
                    showNotification(data.message, 'error');
                }
            } catch (error) {
                console.error('Network error:', error);
                showNotification('Network error. Please try again.', 'error');
            } finally {
                isSubmitting = false;
                button.disabled = false;
                button.textContent = 'Join Waitlist';
            }
        }

        // Attach event listeners when DOM is ready
        console.log('Attaching event listeners...');
        const form1 = document.getElementById('emailForm');
        const form2 = document.getElementById('emailFormBottom');

        if (form1) {
            form1.addEventListener('submit', handleSubmit);
            console.log('Form 1 listener attached');
        } else {
            console.error('Form 1 not found!');
        }

        if (form2) {
            form2.addEventListener('submit', handleSubmit);
            console.log('Form 2 listener attached');
        } else {
            console.error('Form 2 not found!');
        }

        // Load stats on page load
        console.log('Loading initial stats...');
        loadStats();
        
        // Refresh stats every 30 seconds
        setInterval(loadStats, 30000);
        
        console.log('Script initialization complete!');
    </script>
</body>
</html>